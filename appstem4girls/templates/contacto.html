{% extends "base.html" %}

{% load static%}
{% load i18n %}
{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/contacto.css' %}">
{% endblock %}

{% block titulo %}Contacto{% endblock %}

{% block contenido %}
<div id="app">  <!-- Vue controla todo dentro -->
    <!-- Contactos Grid Section -->
    <section id="contactos">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Contactos</h2>
                    <hr class="star-primary">
                </div>
            </div>
            <div>
            <div class="row">
                <div class="col-xs-4">
                    <h4>Nombre</h4>
                </div>
                <div class="col-xs-4">
                    <h4>Email</h4>
                </div>
                <div class="col-xs-3">
                    <h4>Teléfono</h4>
                </div>
            </div>

            <!-- LISTA DE CONTACTOS (Vue) -->
            <div class="row" v-for="(persona, index) in personas" :key="index">
                <div class="col-xs-4"><p>{{ persona.nombre }}</p></div>
                <div class="col-xs-4"><p>{{ persona.email }}</p></div>
                <div class="col-xs-3"><p>{{ persona.telefono }}</p></div>
                <div class="col-xs-1">
                    <button class="btn btn-danger btn-sm" @click="eliminarPersona(index)">
                        <span class="glyphicon glyphicon-remove"></span>
                    </button>
                </div>
            </div>
     
            <div v-if="personas.length === 0" class="row">
                <div class="col-xs-12">
                      <p>No se ha encontrado ningún contacto.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Añadir nuevo Section -->
    <section id="nuevo">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Añadir contacto</h2>
                    <hr class="star-primary">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2">
                    <form @submit.prevent="agregarPersona" id="contactForm" novalidate>
                        <div class="row control-group">
                            <div class="form-group col-xs-12 floating-label-form-group controls">
                                <label>Nombre</label>
                                <input v-model="nuevo.nombre" type="text" class="form-control" placeholder="Nombre">
                            </div>
                        </div>
                        <div class="row control-group">
                            <div class="form-group col-xs-12 floating-label-form-group controls">
                                <label>Email</label>
                                <input v-model="nuevo.email" type="email" class="form-control" placeholder="Email">
                            </div>
                        </div>
                        <div class="row control-group">
                            <div class="form-group col-xs-12 floating-label-form-group controls">
                                <label>Teléfono</label>
                                <input v-model="nuevo.telefono" type="tel" class="form-control" placeholder="Número de teléfono">
                            </div>
                        </div>
                        <br>
                        <div id="success"></div>
                        <div class="row">
                            <div class="form-group col-xs-12">
                                <button type="submit" class="btn btn-success btn-lg">Añadir</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>
</div>  <!-- Fin del div controlado por Vue -->

    <!-- jQuery -->
    <!-- <script src="js/jquery.js"></script> -->

    <!-- Plugin JavaScript -->
    <!--  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script src="js/classie.js"></script>  -->

    <!-- Custom Theme JavaScript -->
    <!-- <script src="js/freelancer.js"></script> -->

    <!-- Vue -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js"></script>
    <script src="{% static 'js/vu1.js' %}"></script>   

{% endblock %}
